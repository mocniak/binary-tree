{% import "macros/leaves_recursive.html.twig" as macros %}

{% extends "base.html.twig" %}

{% block title %}Index{% endblock %}
{% block body %}
    <h1>Trees</h1>
    <p class="important">
        Here are the trees.
    </p>

        {% for tree in trees %}
            <div><p>Tree id: {{ tree.id }} <a href="{{ path('add-random-user', {'id': tree.id}) }}">[Add random user]</a></p>
                <div class="leaf tree-root">
                    {% if tree.rootUser is not null %}
                        {{ macros.leaves_recursive(tree.rootUser) }}
                    {% else %}
                        this tree is empty
                    {% endif %}
                </div>
            </div>
        {% else %}
            <p>No trees yet!</p>
        {% endfor %}
    <p>
        <a href="{{ path('add-tree') }}">Add another tree!</a>
    </p>
{% endblock %}
